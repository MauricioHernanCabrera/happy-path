(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{371:function(e,t,n){var content=n(390);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("bab15728",content,!0,{sourceMap:!1})},389:function(e,t,n){"use strict";n(371)},390:function(e,t,n){var o=n(38)(!1);o.push([e.i,".home__list[data-v-361ed285]{flex-wrap:nowrap;overflow-x:auto}.home__path_item[data-v-361ed285]{height:100%;display:flex;flex-direction:column}.home__tabs_items[data-v-361ed285]{background-color:transparent!important;padding:24px}",""]),e.exports=o},490:function(e,t,n){"use strict";n.r(t);n(18),n(12),n(24),n(25);var o=n(316),c=n(3),r=(n(48),n(19),n(110),n(43),n(220),n(16),n(214),n(387)),l=n.n(r),m=n(336);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={name:"Home",mixins:[{data:function(){return{}},methods:{setModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.active,o=void 0===n||n,c=t.data,data=void 0===c?{}:c,r=t.isLoading,l=void 0!==r&&r;e.active=o,e.isLoading=l,e.data=data},closeModal:function(e){this.setModal(e,{active:!1,data:{}})},loadingModal:function(e){e.isLoading=!0},findIndexById:function(e,t){return Object(m.findIndex)(e,["_id",t])},find:function(e,t){return Object(m.find)(e,["_id",t])},updateItemIsLoadingProp:function(e,t,n){this.$set(e[this.findIndexById(e,t)],"isLoading",n)},deleteItem:function(e,t){var n=Object(m.findIndex)(e,["_id",t]);e.splice(n,1)},updateItem:function(e,t,data){var n=Object(m.findIndex)(e,["_id",t]);e.splice(n,1,data)},addItem:function(e,data){e.push(JSON.parse(JSON.stringify(data)))}}}],data:function(){return{tabs:[{value:"tab-paths",name:"Caminos",icon:"highway"},{value:"tab-commissions",name:"Comisiones",icon:"thumb-down-outline"},{value:"tab-currencies",name:"Monedas",icon:"cash-multiple"},{value:"tab-pre-assembled-path",name:"Pre armados",icon:"shape-outline"},{value:"tab-global-config",name:"Configuración global",icon:"cog"}],tab:"tab-",config:{value:0,showConfig:!1,showCommissions:!1,showCurrencies:!1,showPreAssembledPaths:!1},currencies:[{price:161.5,name:"USDT",_id:"currency_1"},{price:148,name:"USD",_id:"currency_2"}],commissions:[{value:1.73,name:"Recibir en Wise",_id:"commission_1"},{value:1.39,name:"Recibir en Binance",_id:"commission_2"},{value:3,name:"Recibir en Payoneer",_id:"commission_3"},{value:2,name:"Binance a dolar fisico",_id:"commission_4"},{value:4,name:"Wise a dolar fisico",_id:"commission_5"},{value:5,name:"Payoneer a dolar fisico",_id:"commission_6"},{value:6,name:"Payoneer a binance",_id:"commission_7"}],modalCommission:{data:{},active:!1,isLoading:!1},DEFAULT_PATH:{commissions:[{value:0,name:null,_id:1}],value:0,currencySelected:"currency_1"},DEFAULT_COMMISSION:{value:0,name:null},DEFAULT_CURRENCY:{price:0,name:null},moneyConfig:[2,",","."],preAssembledPaths:[{commissions:["commission_1","commission_2"],value:0,currencySelected:"currency_1",_id:"path_1"},{commissions:["commission_1","commission_5"],value:0,currencySelected:"currency_2",_id:"path_2"},{commissions:["commission_1","commission_2","commission_4"],value:0,currencySelected:"currency_2",_id:"path_3"},{commissions:["commission_3","commission_5"],value:0,currencySelected:"currency_2",_id:"path_4"},{commissions:["commission_3","commission_7","commission_4"],value:0,currencySelected:"currency_2",_id:"path_5"}],paths:[{commissions:["commission_1","commission_2"],value:0,currencySelected:"currency_1",_id:"path_1"},{commissions:["commission_1","commission_2","commission_4"],value:0,currencySelected:"currency_2",_id:"path_2"},{commissions:["commission_1","commission_5"],value:0,currencySelected:"currency_2",_id:"path_3"},{commissions:["commission_3","commission_5"],value:0,currencySelected:"currency_2",_id:"path_4"},{commissions:["commission_3","commission_7","commission_4"],value:0,currencySelected:"currency_2",_id:"path_5"}]}},computed:{preAssembledPathsMap:function(){var e=this;return this.preAssembledPaths.map((function(t){var n=t.commissions.map((function(t){return e.find(e.commissions,t)})).filter((function(e){return e&&e._id}));return v(v({},t),{},{commissions:n})}))},calculatedPaths:function(){var e=this;return JSON.parse(JSON.stringify(this.paths)).map((function(t){return t.currency=e.find(e.currencies,t.currencySelected)||0,t.commissions=t.commissions.map((function(t){return e.find(e.commissions,t)})).filter((function(e){return e&&e._id})),v(v({},t),{},{totalDolar:e.formatMoney.apply(e,[e.totalDolar(t)].concat(Object(o.a)(e.moneyConfig))),totalFee:e.formatMoney.apply(e,[e.totalFee(t)].concat(Object(o.a)(e.moneyConfig))),percentageFee:e.formatMoney.apply(e,[e.percentageFee(t)].concat(Object(o.a)(e.moneyConfig))),totalArs:e.formatMoney.apply(e,[e.totalArs(t)].concat(Object(o.a)(e.moneyConfig)))})}))}},methods:{formatMoney:l.a,get:m.get,totalDolar:function(e){var t=e.commissions,n=e.value,o=void 0===n?0:n;return t.reduce((function(e,t){if(t&&t.value){var n=parseFloat(parseFloat(e).toFixed(2)*parseFloat(t.value).toFixed(2)/100).toFixed(2);return parseFloat(e-n).toFixed(2)}return parseFloat(e).toFixed(2)}),o)},totalArs:function(e){return(this.totalDolar(e)*parseFloat(Object(m.get)(e,"currency.price",0))).toFixed(2)},totalFee:function(e){return(e.value-this.totalDolar(e)).toFixed(2)},percentageFee:function(e){return(100*this.totalFee(e)/e.value).toFixed(2)},updatePathsValues:function(e){e&&this.paths.forEach((function(t){t.value=e}))},deletePathCommission:function(e,t){this.paths[e].commissions.splice(t,1)},updatePathCommission:function(e,t,n){var o=JSON.parse(JSON.stringify(this.paths[t].commissions));o[n]=e,this.paths[t].commissions=o},addPathCommission:function(e){this.paths[e].commissions.push(null)}},filters:{formatMoney:l.a}},f=(n(389),n(71)),h=n(89),y=n.n(h),x=n(382),C=n(373),O=n(374),w=n(483),P=n(376),S=n(354),k=n(492),I=n(484),j=n(485),F=n(488),M=n(307),D=n(487),V=n(493),A=n(491),T=n(481),N=n(454),E=n(479),component=Object(f.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"home"},[n("v-col",{attrs:{cols:"12"}},[n("v-tabs",{attrs:{centered:"",dark:"","icons-and-text":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider"),e._v(" "),e._l(e.tabs,(function(t){return n("v-tab",{key:t.name,attrs:{href:"#"+t.value}},[e._v("\n        "+e._s(t.name)+"\n        "),n("v-icon",[e._v("mdi-"+e._s(t.icon))])],1)}))],2),e._v(" "),n("v-tabs-items",{staticClass:"home__tabs_items",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{attrs:{value:"tab-paths"}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12"}},[n("span",{staticClass:"caption"},[e._v("Caminos")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{on:{click:function(t){e.addItem(e.paths,Object.assign({},{_id:Date.now()},e.DEFAULT_PATH))}}},[n("v-icon",[e._v("mdi-plus")]),e._v("\n                  nuevo camino\n                ")],1)],1)],1),e._v(" "),0===e.calculatedPaths.length?n("v-row",[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v("\n                No hay caminos cargados\n              ")])],1):n("v-row",{staticClass:"home__list"},e._l(e.calculatedPaths,(function(t,o){return n("v-col",{key:o,attrs:{cols:"12",sm:"6",md:"4",xl:"3"}},[n("v-card",{staticClass:"home__path_item"},[n("v-card-text",{staticClass:"pb-0"},[n("v-text-field",{attrs:{label:"Camino "+(o+1)+" ",readonly:"",value:t.commissions.map((function(e){return e.name})).join(" > ")}}),e._v(" "),n("v-text-field",{attrs:{label:"Valor",type:"number"},model:{value:e.paths[o].value,callback:function(t){e.$set(e.paths[o],"value",t)},expression:"paths[pathIndex].value"}}),e._v(" "),e._l(e.paths[o].commissions,(function(t,c){return n("v-select",{key:o+"_"+c,attrs:{items:e.commissions,value:t,label:"Selecciona comisión "+(c+1),"item-text":"name","item-value":"_id"},on:{input:function(t){return e.updatePathCommission(t,o,c)}},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[e._v("\n                        ("+e._s(e._f("formatMoney").apply(void 0,[n.value].concat(e.moneyConfig)))+"%)\n                        "+e._s(n.name)+"\n                      ")]}},{key:"append",fn:function(){return[n("v-icon",{attrs:{left:""},on:{click:function(t){return e.deletePathCommission(o,c)}}},[e._v("\n                          mdi-close\n                        ")])]},proxy:!0}],null,!0)})})),e._v(" "),n("v-btn",{staticClass:"mb-4",on:{click:function(t){return e.addPathCommission(o)}}},[n("v-icon",[e._v("mdi-plus")]),e._v("\n                      nueva comisión\n                    ")],1)],2),e._v(" "),n("v-spacer"),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",{staticClass:"pt-0"},[n("v-radio-group",{scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[e._v("Moneda")])]},proxy:!0}],null,!0),model:{value:e.paths[o].currencySelected,callback:function(t){e.$set(e.paths[o],"currencySelected",t)},expression:"paths[pathIndex].currencySelected"}},[e._v(" "),e._l(e.currencies,(function(e){return n("v-radio",{key:e._id,attrs:{value:e._id,label:e.name}})}))],2),e._v(" "),n("v-text-field",{attrs:{label:"Total en "+e.get(t,"currency.name","-"),value:t.totalDolar,disabled:""}}),e._v(" "),n("v-text-field",{attrs:{label:"Comisión total",disabled:"",value:t.totalFee}}),e._v(" "),n("v-text-field",{attrs:{label:"Porcentaje de comision",disabled:"",value:t.percentageFee+"%"}}),e._v(" "),n("v-text-field",{attrs:{disabled:"",label:"Valor del "+e.get(t,"currency.name","-"),value:e.get(t,"currency.price","-")}}),e._v(" "),n("v-text-field",{attrs:{label:"Total ARS",readonly:"",value:t.totalArs}})],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-btn",{on:{click:function(t){return e.deleteItem(e.paths,e.paths[o]._id)}}},[e._v("\n                      eliminar\n                    ")])],1)],1)],1)})),1)],1)],1)],1),e._v(" "),n("v-tab-item",{attrs:{value:"tab-commissions"}},[n("v-row",[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12"}},[n("span",{staticClass:"caption"},[e._v("Comisiones")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{on:{click:function(t){e.addItem(e.commissions,Object.assign({},{_id:Date.now()},e.DEFAULT_COMMISSION))}}},[n("v-icon",[e._v("mdi-plus")]),e._v("\n              nueva comisión\n            ")],1)],1),e._v(" "),0===e.commissions.length?n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v("\n            No hay comisiones cargadas\n          ")]):n("v-col",{attrs:{cols:"12"}},[n("v-row",{staticClass:"home__list"},e._l(e.commissions,(function(t){return n("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Nombre"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"commissionItem.name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Porcentaje",type:"number"},model:{value:t.value,callback:function(n){e.$set(t,"value",e._n(n))},expression:"commissionItem.value"}})],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-btn",{on:{click:function(n){return e.deleteItem(e.commissions,t._id)}}},[e._v("\n                      eliminar\n                    ")])],1)],1)],1)})),1)],1)],1)],1),e._v(" "),n("v-tab-item",{attrs:{value:"tab-currencies"}},[n("v-row",[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12"}},[n("span",{staticClass:"caption"},[e._v("Monedas")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{on:{click:function(t){e.addItem(e.currencies,Object.assign({},{_id:Date.now()},e.DEFAULT_CURRENCY))}}},[n("v-icon",[e._v("mdi-plus")]),e._v("\n              nueva moneda\n            ")],1)],1),e._v(" "),0===e.currencies.length?n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v("\n            No hay monedas cargadas\n          ")]):n("v-col",{attrs:{cols:"12"}},[n("v-row",{staticClass:"home__list"},e._l(e.currencies,(function(t){return n("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Nombre"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"currencyItem.name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Valor",type:"number"},model:{value:t.price,callback:function(n){e.$set(t,"price",e._n(n))},expression:"currencyItem.price"}})],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-btn",{on:{click:function(n){return e.deleteItem(e.currencies,t._id)}}},[e._v("\n                      eliminar\n                    ")])],1)],1)],1)})),1)],1)],1)],1),e._v(" "),n("v-tab-item",{attrs:{value:"tab-pre-assembled-path"}},[n("v-row",[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12"}},[n("span",{staticClass:"caption"},[e._v("Caminos pre armados")])]),e._v(" "),0===e.preAssembledPaths.length?n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v("\n            No hay caminos pre armados\n          ")]):n("v-col",{attrs:{cols:"12"}},[n("v-row",{staticClass:"home__list"},e._l(e.preAssembledPaths,(function(t,o){return n("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Nombre",readonly:"",value:e.preAssembledPathsMap[o].commissions.map((function(e){return e.name})).join(" > ")}}),e._v(" "),n("v-text-field",{attrs:{label:"Comisiones",disabled:"",value:e.preAssembledPathsMap[o].commissions.map((function(t){return e.formatMoney(t.value)+"%"})).join(" > ")}})],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-btn",{on:{click:function(n){e.addItem(e.paths,Object.assign({},t,{_id:Date.now()}))}}},[e._v("\n                      Usar camino\n                    ")])],1)],1)],1)})),1)],1)],1)],1),e._v(" "),n("v-tab-item",{attrs:{value:"tab-global-config"}},[n("v-row",[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12"}},[n("span",{staticClass:"caption"},[e._v("Global")])]),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Valor",type:"number"},on:{input:e.updatePathsValues},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",e._n(t))},expression:"config.value"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"361ed285",null);t.default=component.exports;y()(component,{VBtn:x.a,VCard:C.a,VCardText:O.a,VCol:w.a,VDivider:P.a,VIcon:S.a,VRadio:k.a,VRadioGroup:I.a,VRow:j.a,VSelect:F.a,VSpacer:M.a,VTab:D.a,VTabItem:V.a,VTabs:A.a,VTabsItems:T.a,VTabsSlider:N.a,VTextField:E.a})}}]);